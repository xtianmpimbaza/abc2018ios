{"version":3,"sources":["../../src/pages/modal/modal.module.ts","../../src/pages/modal/modal.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalPage } from './modal';\n\n@NgModule({\n  declarations: [\n    ModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalPage),\n  ],\n  exports: [\n    ModalPage\n  ]\n})\nexport class ModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ViewController} from 'ionic-angular';\n\nimport {Validators, FormBuilder, FormGroup} from \"@angular/forms\";\nimport {GlobalVars} from \"../../providers/global-vars\";\nimport {Http} from \"@angular/http\";\n\n@IonicPage()\n@Component({\n  selector: 'page-modal',\n  templateUrl: 'modal.html',\n})\nexport class ModalPage {\n  receipient: string;\n  data:any = {};\n  credentialsForm: FormGroup;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private global: GlobalVars,\n    private http: Http,\n    private loadingCtrl: LoadingController,\n              private formBuilder: FormBuilder) {\n    this.receipient = this.navParams.get('mail_receipiennt');\n    this.credentialsForm = this.formBuilder.group({\n      email_to: this.receipient,\n      email_from: ['',Validators.compose([Validators.pattern(\n        /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/), Validators.required])],\n      no_html: ['']\n    });\n    this.data.response = '';\n    // this.ionViewDidLoad();\n  }\n\n  public sendContact() {\n    console.log('Form submit');\n  }\n\n  public closeModal() {\n    this.viewCtrl.dismiss();\n  }\n\n  public send() {\n    // console.log(this.credentialsForm.value);\n\n    let loader = this.loadingCtrl.create({\n      content: \"Sending.....\"\n    });\n    loader.present();\n\n    new Promise(resolve => {\n      this.http.post(this.global.api_url, this.credentialsForm.value)\n        .map(res => res.json())\n        .subscribe((result) => {\n            console.log(result);\n\n            if (result.feedback =='success') {\n              this.global.toast(\"Email sent.\", 'toast-error');\n              loader.dismiss();\n              this.closeModal();\n            } else {\n                this.global.toast(\"Error occurred, Email not sent\", 'toast-error');\n                loader.dismiss();\n            }\n          },\n          (err) => {\n            this.global.toast(\"Error occurred, Check your internet connection\", 'toast-error');\n            loader.dismiss();\n          });\n    });\n\n  }\n\n  // ionViewDidLoad() {\n  //   console.log(this.navParams.get('message'));\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.ts"],"sourceRoot":""}